<!-- src/app/features/admin/components/admin-dashboard/admin-dashboard.html -->

<div class="admin-dashboard-container">
  <!-- Encabezado de Bienvenida y Botón de Cerrar Sesión -->
  <div class="dashboard-header">
    <h2>Bienvenido, Administrador {{ currentUser?.usuario?.username }}!</h2>
    <button (click)="onLogout()" class="btn-logout">
      <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
    </button>
  </div>
  <p>Este es tu panel de control central para gestionar la aplicación.</p>

  <!-- Sección Principal de Gestión de Usuarios -->
  <div class="management-section">
    <h3>Gestión de Usuarios</h3>
    <div class="management-cards">
      <!-- Tarjeta 1: Crear Nuevo Usuario (Formulario Adaptable) -->
      <a routerLink="/admin/users/create" class="management-card create-user-card">
        <i class="fas fa-user-plus"></i>
        <h4>Crear Nuevo Usuario</h4>
        <p>Registra un nuevo usuario y su perfil de rol asociado.</p>
      </a>

      <!-- Tarjeta 2: Gestionar Usuarios Creados (Llevará a la vista de selección por rol) -->
      <a routerLink="/admin/users/manage-by-role" class="management-card manage-users-card">
        <i class="fas fa-users-cog"></i>
        <h4>Gestión de Usuarios</h4>
        <p>Visualiza, edita y elimina usuarios existentes por rol.</p>
      </a>
    </div>
  </div>

  <!-- Sección Principal de Gestión de Productos -->
  <div class="management-section">
    <h3>Gestión de Productos</h3>
    <div class="management-cards">
      <!-- Tarjeta 1: Crear Nuevo Producto -->
      <a routerLink="/admin/products/create" class="management-card create-item-card"> <!-- <--- ¡RUTA ACTUALIZADA! -->
        <i class="fas fa-box-open"></i> <!-- Icono de caja abierta/producto -->
        <h4>Crear Nuevo Producto</h4>
        <p>Registra un nuevo producto en el catálogo.</p>
      </a>

      <!-- Tarjeta 2: Gestionar Productos -->
      <a routerLink="/admin/products" class="management-card manage-items-card"> <!-- <--- ¡RUTA ACTUALIZADA! -->
        <i class="fas fa-boxes"></i> <!-- Icono de varias cajas/productos -->
        <h4>Gestión de Productos</h4>
        <p>Visualiza, edita y elimina productos existentes.</p>
      </a>
    </div>
  </div>

  <!-- Sección Principal de Gestión de Categorías -->
  <div class="management-section">
    <h3>Gestión de Categorías</h3>
    <div class="management-cards">
      <!-- Tarjeta 1: Crear Nueva Categoría -->
      <a routerLink="/admin/categories/create" class="management-card create-item-card"> <!-- <--- ¡RUTA ACTUALIZADA! -->
        <i class="fas fa-tags"></i> <!-- Icono de etiquetas/categorías -->
        <h4>Crear Nueva Categoría</h4>
        <p>Define nuevas categorías para organizar los productos.</p>
      </a>

      <!-- Tarjeta 2: Gestionar Categorías -->
      <a routerLink="/admin/categories" class="management-card manage-items-card"> <!-- <--- ¡RUTA ACTUALIZADA! -->
        <i class="fas fa-sitemap"></i> <!-- Icono de mapa del sitio/estructura -->
        <h4>Gestionar Categorías</h4>
        <p>Visualiza, edita y elimina categorías existentes.</p>
      </a>
    </div>
  </div>

  <!-- Sección de Resumen General (Widgets/Tarjetas) -->
  <div class="summary-cards">
    <div class="card">
      <h3>Pedidos Pendientes</h3>
      <p class="metric">{{ summaryData.pedidosPendientes }}</p>
      <span class="description">En espera de preparación o envío.</span>
    </div>
    <div class="card">
      <h3>Pedidos Completados Hoy</h3>
      <p class="metric">{{ summaryData.pedidosCompletadosHoy }}</p>
      <span class="description">Pedidos finalizados en el día.</span>
    </div>
    <div class="card">
      <h3>Nuevos Usuarios (Semana)</h3>
      <p class="metric">{{ summaryData.nuevosUsuariosSemana }}</p>
      <span class="description">Registros de clientes recientes.</span>
    </div>
    <div class="card alert-card">
      <h3>Productos Agotados</h3>
      <p class="metric">{{ summaryData.productosAgotados }}</p>
      <span class="description">¡Revisar inventario!</span>
    </div>
    <div class="card">
      <h3>Repartidores Activos</h3>
      <p class="metric">{{ summaryData.repartidoresActivos }}</p>
      <span class="description">Actualmente en servicio.</span>
    </div>
    <div class="card">
      <h3>Ingresos Hoy</h3>
      <p class="metric">${{ summaryData.ingresosHoy }}</p>
      <span class="description">Total de ventas del día.</span>
    </div>
  </div>

  <!-- Sección de Navegación Rápida (Otros enlaces de gestión) -->
  <div class="quick-links">
    <h3>Otras Gestiones</h3>
    <div class="link-group">
      <a routerLink="/admin/pedidos" class="quick-link-btn">
        <i class="fas fa-clipboard-list"></i> Gestión de Pedidos
      </a>
      <a routerLink="/admin/clientes/manage" class="quick-link-btn">
        <i class="fas fa-user-friends"></i> Gestión de Clientes
      </a>
      <a routerLink="/admin/reportes" class="quick-link-btn">
        <i class="fas fa-chart-line"></i> Reportes
      </a>
      <a routerLink="/admin/configuracion" class="quick-link-btn">
        <i class="fas fa-cogs"></i> Configuración
      </a>
      <a routerLink="/admin/roles/manage" class="quick-link-btn">
        <i class="fas fa-users-cog"></i> Gestión de Roles
      </a>
      <a routerLink="/admin/repartidores/manage" class="quick-link-btn">
        <i class="fas fa-motorcycle"></i> Gestión de Repartidores
      </a>
      <a routerLink="/admin/supervisores-cocina/manage" class="quick-link-btn">
        <i class="fas fa-utensils"></i> Gestión Supervisores Cocina
      </a>
      <a routerLink="/admin/supervisores-ventas/manage" class="quick-link-btn">
        <i class="fas fa-chart-line"></i> Gestión Supervisores Ventas
      </a>
    </div>
  </div>

  <!-- Sección de Actividad Reciente o Tablas Clave -->
  <div class="recent-activity">
    <h3>Últimos Pedidos</h3>
    <div class="table-placeholder">
      <p>Tabla de últimos pedidos pendientes o en curso...</p>
      <ul>
        <li>Pedido #1001 - Cliente: Juan Pérez - Estado: En preparación</li>
        <li>Pedido #1002 - Cliente: María García - Estado: En camino</li>
        <li>Pedido #1003 - Cliente: Pedro López - Estado: Pendiente</li>
      </ul>
      <a routerLink="/admin/pedidos" class="view-all-link">Ver todos los pedidos</a>
    </div>
  </div>
</div>