<div class="combo-card" [class.inactive]="!combo.estado">
  <div class="status-badge" [class.active]="combo.estado" [class.inactive]="!combo.estado">
      {{ combo.estado ? 'Activo' : 'Inactivo' }}
     </div>

  <div class="card-image">
    <img *ngIf="combo.imagen && validarImagen(combo.imagen)" [src]="combo.imagen"
      [alt]="combo.nombre" (error)="onImageError($event)" class="combo-image">
    <div *ngIf="!combo.imagen || !validarImagen(combo.imagen)" class="combo-image-placeholder">
         <span class="placeholder-icon">ğŸ½ï¸</span>
       </div>
     </div>

   <div class="card-content">
     <h3 class="combo-title">{{ combo.nombre }}</h3>
      <p class="combo-description" *ngIf="combo.descripcion">
         {{ combo.descripcion }}
        </p>

    Â  Â  <div class="combo-products">
      Â  Â  Â  <span class="products-label">Productos:</span>
      Â  Â  Â  <span class="products-list">{{ getProductosNombres() }}</span>
      Â  Â  </div>

    Â  Â  <div class="price-section">
      Â  Â  Â  <div class="price-container">
        Â  Â  Â  Â  <span class="price-label">Precio:</span>
        Â  Â  Â  Â  <div class="price-info">
          Â  Â  Â  Â  Â  <span class="original-price" *ngIf="combo.descuento && combo.descuento > 0">
            Â  Â  Â  Â  Â  Â  ${{ calcularPrecioBase() | number:'1.2-2' }}
            Â  Â  Â  Â  Â  </span>
          Â  Â  Â  Â  Â  <span class="final-price">
            Â  Â  Â  Â  Â  Â  ${{ getPrecioConDescuento() | number:'1.2-2' }}
            Â  Â  Â  Â  Â  </span>
          Â  Â  Â  Â  Â  <span class="discount-badge" *ngIf="combo.descuento && combo.descuento > 0">
            Â  Â  Â  Â  Â  Â  -{{ combo.descuento }}%
            Â  Â  Â  Â  Â  </span>
          Â  Â  Â  Â  </div>
        Â  Â  Â  </div>
      Â  Â  </div>
    Â  </div>

  Â  <div class="card-actions" *ngIf="showActions">
    Â  Â  <ng-container *ngIf="authService.hasAdminPermissions()">
      Â  Â  Â  <button class="btn-action btn-edit" title="Editar combo" (click)="onEditClick($event)">
        Â  Â  Â  Â  <span class="btn-icon">âœï¸</span>
        Â  Â  Â  Â  Editar
        Â  Â  Â  </button>
      Â  Â  Â  <button class="btn-action btn-delete" title="Eliminar combo" (click)="onDeleteClick($event)">
        Â  Â  Â  Â  <span class="btn-icon">ğŸ—‘ï¸</span>
        Â  Â  Â  Â  Eliminar
        Â  Â  Â  </button>
      Â  Â  </ng-container>

    Â  Â  <ng-container *ngIf="authService.hasAdminPermissions() || authService.hasSupervisorVentasPermissions()">
      Â  Â  Â  <button Â  Â  Â  Â  *ngIf="!combo.estado" Â  Â  Â  Â  class="btn-action btn-activate" Â  Â  Â  Â  title="Activar combo"
        Â  Â  Â  Â  (click)="onActivateClick($event)">
        Â  Â  Â  Â  <span class="btn-icon">âœ…</span>
        Â  Â  Â  Â  Activar
        Â  Â  Â  </button>
      Â  Â  Â  <button Â  Â  Â  Â  *ngIf="combo.estado" Â  Â  Â  Â  class="btn-action btn-deactivate" Â  Â  Â  Â 
        title="Desactivar combo" Â  Â  Â  Â  (click)="onDeactivateClick($event)">
        Â  Â  Â  Â  <span class="btn-icon">â¸ï¸</span>
        Â  Â  Â  Â  Desactivar
        Â  Â  Â  </button>
      Â  Â  </ng-container>
    Â  </div>
</div>