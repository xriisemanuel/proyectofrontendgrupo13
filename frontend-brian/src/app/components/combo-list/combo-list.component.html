<div class="combo-list-container">
  <div class="combo-list-header">
    <h2 class="combo-list-title">Lista de Combos</h2>
    
    <div class="header-actions">
      <!-- Campo de búsqueda (solo para administradores) -->
      <div *ngIf="!errorCarga && !cargando && authService.hasAdminPermissions()" class="search-container">
        <input 
          #comboSearchInput
          type="text" 
          [(ngModel)]="terminoBusqueda" 
          (input)="filtrarCombos()"
          placeholder="Buscar combos..."
          class="search-input"
        />
        <button (click)="limpiarBusqueda()" class="clear-search-btn">Limpiar</button>
      </div>
      
      <!-- Botón de crear (solo para administradores) -->
      <button *ngIf="authService.hasAdminPermissions()" 
              routerLink="/crear-combo" 
              class="btn-create">
        + Crear Combo
      </button>
    </div>
  </div>

  <!-- Estado de carga -->
  <div *ngIf="cargando" class="loading-state">
    Cargando combos...
  </div>

  <!-- Mensaje de error -->
  <div *ngIf="errorCarga && !cargando" class="error-state">
    {{ errorCarga }}
  </div>

  <!-- Grid de cards de combos -->
  <div *ngIf="!errorCarga && !cargando && combosFiltrados.length > 0" class="combo-cards-grid">
    <app-combo-card 
      *ngFor="let combo of combosFiltrados"
      [combo]="combo"
      [productos]="productos"
      [showActions]="authService.hasAdminPermissions()"
      (editClick)="editarCombo($event)"
      (deleteClick)="eliminarCombo($event)"
      (activateClick)="activarCombo($event)"
      (deactivateClick)="desactivarCombo($event)"
      class="combo-card-item">
    </app-combo-card>
  </div>

  <!-- Mensaje cuando no hay combos -->
  <div *ngIf="!errorCarga && !cargando && combosFiltrados.length === 0" class="empty-state">
    No hay combos para mostrar.
  </div>
</div>


