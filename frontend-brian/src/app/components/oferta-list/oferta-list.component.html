<div class="oferta-list-container">
  <!-- Mensaje temporal -->
  <div *ngIf="mensaje" class="mensaje-temp">
    {{ mensaje }}
  </div>

  <div class="oferta-list-header">
    <h2 class="oferta-list-title">Lista de Ofertas</h2>
    
    <div class="header-actions">
      <!-- Campo de bÃºsqueda (solo para administradores) -->
      <div *ngIf="!errorCarga && !cargando && authService.hasAdminPermissions()" class="search-container">
        <input 
          #ofertaSearchInput
          type="text" 
          [(ngModel)]="terminoBusqueda" 
          (input)="buscarOfertas()"
          placeholder="Buscar ofertas..."
          class="search-input">
      </div>
      
      <!-- BotÃ³n de crear (solo para administradores) -->
      <button *ngIf="authService.hasAdminPermissions()" 
              routerLink="/crear-oferta" 
              class="btn-create">
        + Crear Oferta
      </button>
    </div>
  </div>

  <!-- Estado de carga -->
  <div *ngIf="cargando" class="loading-state">
    Cargando ofertas...
  </div>

  <!-- Mensaje de error -->
  <div *ngIf="errorCarga && !cargando" class="error-state">
    {{ errorCarga }}
  </div>

  <!-- Grid de cards de ofertas -->
  <div *ngIf="!errorCarga && !cargando && ofertasFiltradas.length > 0" class="oferta-cards-grid">
    <app-oferta-card 
      *ngFor="let oferta of ofertasFiltradas"
      [oferta]="oferta"
      [productos]="productosDisponibles"
      [categorias]="categoriasDisponibles"
      [showActions]="authService.hasAdminPermissions()"
      (editClick)="editarOferta($event)"
      (deleteClick)="eliminarOferta($event)"
      (activateClick)="activarOferta($event)"
      (deactivateClick)="desactivarOferta($event)"
      (addToCartClick)="addToCart($event)"
      class="oferta-card-item">
    </app-oferta-card>
  </div>

  <!-- Mensaje cuando no hay ofertas -->
  <div *ngIf="!errorCarga && !cargando && ofertasFiltradas.length === 0" class="empty-state">
    No hay ofertas para mostrar.
  </div>
</div> 